<style>
    :root {
      --nav-bg: #003366;
      --nav-item-bg: rgba(255, 255, 255, 0.1);
      --nav-item-hover: #ff6600;
      --text-color: #ffffff;
    }

    /* Side Nav Container */
    #side-nav {
        position: fixed;
        top: 0;
        left: 0;
        height: 100vh;
        width: 7rem; /* Collapsed width */
        background: var(--nav-bg);
        transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        z-index: 9999;
        box-shadow: 4px 0 15px rgba(0,0,0,0.2);
        overflow-x: hidden;
        display: flex;
        flex-direction: column;
    }

    #side-nav.expanded {
        width: 340px; /* Wider for 2 columns */
    }

    /* Push body content */
    @media (min-width: 769px) {
        body {
            margin-left: 70px;
            transition: margin-left 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        body.nav-expanded {
            margin-left: 340px;
        }
    }

    /* Toggle Button */
    .nav-toggle-btn {
        background: none;
        border: none;
        color: white;
        font-size: 1.5rem;
        cursor: pointer;
        padding: 15px;
        width: 100%;
        text-align: left;
        border-bottom: 1px solid rgba(255,255,255,0.1);
        display: flex;
        align-items: center;
        justify-content: center; /* Centered when collapsed */
    }

    #side-nav.expanded .nav-toggle-btn {
        justify-content: flex-end; /* Right aligned when expanded */
    }

    /* Nav List */
    .nav-list {
        list-style: none;
        padding: 20px 10px;
        margin: 0;
        display: grid;
        grid-template-columns: 1fr; /* Single column when collapsed */
        gap: 15px;
        overflow-y: auto;
    }

    #side-nav.expanded .nav-list {
        grid-template-columns: 1fr 1fr; /* 2 columns when expanded */
    }

    /* Nav Item (Mobile App Icon Style) */
    .nav-link {
        position: relative;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        height: 90px; /* Square-ish look */
        text-decoration: none;
        color: var(--text-color);
        background: var(--nav-item-bg);
        margin: 0;
        border-radius: 12px; /* Rounded corners like app icons */
        transition: all 0.3s ease;
        overflow: hidden;
        padding: 10px;
        text-align: center;
    }

    .nav-link:hover {
        background: var(--nav-item-hover);
        transform: translateY(-3px);
        box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        color: white;
        text-decoration: none;
    }

    /* Content Container */
    .nav-content {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        width: 100%;
        height: 100%;
    }

    .nav-icon {
        width: 32px;
        height: 32px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
        margin-bottom: 8px;
    }
    
    .nav-icon img {
        width: 100%;
        height: 100%;
        object-fit: contain;
        /* No filter applied, keeping original colors */
    }

    .nav-text {
        white-space: normal;
        line-height: 1.1;
        font-weight: 500;
        font-size: 0.75rem;
        display: none; /* Hidden when collapsed */
    }

    #side-nav.expanded .nav-text {
        display: block; /* Visible when expanded */
    }
  /* Tooltip for collapsed state */
    .nav-link:hover::after {
        content: attr(data-title);
        position: absolute;
        left: 100%;
        top: 50%;
        transform: translateY(-50%);
        background: #333;
        color: white;
        padding: 5px 10px;
        border-radius: 4px;
        font-size: 12px;
        white-space: nowrap;
        z-index: 10000;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.2s;
        margin-left: 15px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    }

    #side-nav:not(.expanded) .nav-link:hover::after {
        opacity: 1;
    }
    
    /* Mobile adjustments */
    @media (max-width: 768px) {
        #side-nav {
            width: 0; /* Hidden by default on mobile */
            padding-top: 60px; /* Space for a top toggle if needed */
        }
        
        #side-nav.expanded {
            width: 300px; /* Slightly narrower on mobile */
        }
        
        body.nav-expanded {
            margin-left: 0; /* Don't push body on mobile, overlay instead */
        }
        
        /* We need a mobile toggle button visible on the page */
        .mobile-nav-toggle {
            display: block;
            position: fixed;
            top: 10px;
            left: 10px;
            z-index: 10000;
            background: var(--nav-bg);
            color: white;
            border: none;
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
        }
    }
    
    @media (min-width: 769px) {
        .mobile-nav-toggle {
            display: none;
        }
    }
</style>

<!-- Mobile Toggle Button -->
<button class="mobile-nav-toggle" onclick="toggleNav()">‚ò∞</button>

<div id="side-nav">
    <button class="nav-toggle-btn" onclick="toggleNav()">
        <span class="icon">‚ò∞</span>
    </button>
    
    <ul class="nav-list">
        <!-- View Record -->
          <li>
            <a href="/practicalform?studentClass=<%= studentClass %>&section=<%= section %>&subject=<%= subject%>&terminal=<%=terminal%>" class="nav-link" data-title="Add Practical">
                <div class="nav-content">
                    <div class="nav-icon"><img src="/home.png" alt="practical"></div>
                    <span class="nav-text">Home</span>
                </div>
            </a>
        </li>
          <li>
            <a href="/practicalform?studentClass=<%= studentClass %>&section=<%= section %>&subject=<%= subject%>&terminal=<%=terminal%>" class="nav-link" data-title="Add Practical">
                <div class="nav-content">
                    <div class="nav-icon"><img src="/dashboard.png" alt="practical"></div>
                    <span class="nav-text">Practical Dashboard</span>
                </div>
            </a>
        </li>
        <li>
            <a href="/internalreport?studentClass=<%= studentClass %>&section=<%= section %>&subject=<%= subject %>&terminal=<%= terminal %>" class="nav-link" data-title="View Record Unit Wise">
                <div class="nav-content">
                    <div class="nav-icon"><img src="/lesson.png" alt="lesson"></div>
                    <span class="nav-text">View Record Unit wise</span>
                </div>
            </a>
        </li>

        <!-- Indicator Wise (Math) -->
        <% if (subject==="MATHEMATICS"){ %>
        <li>
            <a href="/indicatorwisereport?studentClass=<%= studentClass %>&section=<%= section %>&subject=<%= subject %>&terminal=<%= terminal %>" class="nav-link" data-title="Indicator Wise Report">
                <div class="nav-content">
                    <div class="nav-icon"><img src="/indicator.png" alt="indicator"></div>
                    <span class="nav-text">Indicator Wise Report</span>
                </div>
            </a>
        </li>
        <%}%>

        <!-- Create Rubriks -->
        <li>
            <a href="/themefillupform?studentClass=<%= studentClass %>&section=<%= section %>&subject=<%= subject%>&terminal=<%=terminal%>" class="nav-link" data-title="Create Rubriks">
                <div class="nav-content">
                    <div class="nav-icon"><img src="/criteria.png" alt="criteria"></div>
                    <span class="nav-text">
             <%if (subject==="SCIENCE") { %>
             Create Practical Rubriks <br><b>(10 marks)</b>
              <% }else if(subject==="MATHEMATICS"){%>
                Create ‡§ï‡§æ‡§∞‡•ç‡§Ø ‡§∏‡§û‡•ç‡§ö‡§æ‡§≤‡§® ‡§∞ ‡§ï‡§æ‡§∞‡•ç‡§Ø‡§∏‡§Æ‡•ç‡§™‡§æ‡§¶‡§® Rubriks (20 marks)
              <%}else if(subject==="SOCIAL"){%>
                Create Practical/ProjectWork Rubriks
              <%}else if(subject==="HEALTH"){%>
               

               Create ‡§™‡•ç‡§∞‡§Ø‡•ã‡§ó‡§æ‡§§‡•ç‡§Æ‡§ï ‡§ï‡§æ‡§∞‡•ç‡§Ø (‡§∂‡§æ‡§∞‡•Ä‡§∞‡§ø‡§ï ‡§∞ ‡§∏‡§ø‡§∞‡•ç‡§ú‡§®‡§æ‡§§‡•ç‡§Æ‡§ï ‡§ï‡§≤‡§æ) ‡§ï‡•ã ‡§Æ‡•Ç‡§≤‡•ç‡§Ø‡§æ‡§ô‡•ç‡§ï‡§® (‡§∞‡•Å‡§¨‡•ç‡§∞‡§ø‡§ï‡•ç‡§∏)
              <%} else if(subject==="NEPALI"){%>
                Create ‡§∏‡•Å‡§®‡§æ‡§á ‡§∞ ‡§¨‡•ã‡§≤‡§æ‡§á‡§ï‡•ã ‡§Ü‡§®‡•ç‡§§‡§∞‡§ø‡§ï ‡§Æ‡•Ç‡§≤‡•ç‡§Ø‡§æ‡§ô‡•ç‡§ï‡§®‡§ï‡§æ ‡§Ü‡§ß‡§æ‡§∞ (20 marks)
              <%}else if(subject==="ENGLISH"){%>
                Create Listeing and Speaking Rubriks (20 marks)
              <%}else{ %>
                Create Practical Rubriks(20 marks)
              <%}%>
                    </span>
                </div>
            </a>
        </li>

        <!-- Project Work Rubriks -->
        <li>
            <a href="/projectrubrikscreate?studentClass=<%= studentClass %>&section=<%= section %>&subject=<%= subject%>&terminal=<%=terminal%>" class="nav-link" data-title="Project Rubriks">
                <div class="nav-content">
                    <div class="nav-icon">‚öôÔ∏è</div>
                    <span class="nav-text">
                     <% if(subject==="SCIENCE") { %>
             Create ProjectWork Rubriks <br><b>(8 marks)</b>
              <% }else if(subject==="MATHEMATICS"){%>
                Create ‡§™‡•ç‡§∞‡§∏‡•ç‡§§‡•Å‡§§‡•Ä‡§ï‡§∞‡§£ ‡§∞ ‡§Ö‡§≠‡§ø‡§≤‡•á‡§ñ‡•Ä‡§ï‡§∞‡§£ Rubriks  (12 marks)
              <%}else if(subject==="SOCIAL"){%>
                Create Practical/ProjectWork Rubriks
              <%}else if(subject==="HEALTH"){%>
                    Create ‡§™‡§∞‡§ø‡§Ø‡•ã‡§ú‡§®‡§æ ‡§ï‡§æ‡§∞‡•ç‡§Ø (‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø) ‡§ï‡•ã ‡§Æ‡•Ç‡§≤‡•ç‡§Ø‡§æ‡§ô‡•ç‡§ï‡§® (‡§∞‡•Å‡§¨‡•ç‡§∞‡§ø‡§ï‡•ç‡§∏) 
                <%}else if(subject==="NEPALI"){%>
                  Create ‡§™‡§¢‡§æ‡§à ‡§∞ ‡§≤‡•á‡§ñ‡§æ‡§á‡§ï‡•ã ‡§Æ‡•Ç‡§≤‡•ç‡§Ø‡§æ‡§ô‡•ç‡§ï‡§®‡§Æ‡•Å‡§≤‡•ç‡§Ø‡§æ‡§®‡•ç‡§ó‡•ç‡§ï‡§® ‡§Ü‡§ß‡§æ‡§∞  Rubriks (16 marks)
              <%}else if(subject==="ENGLISH"){%>
                  Create Reading & Writing Rubriks (16 marks)
              <%}else{ %>
                Create ProjectWork Rubriks(16 marks)

              <%}%>
                    </span>
                </div>
            </a>
        </li>

        <!-- Add Practical -->
        <li>
            <a href="/practicalform?studentClass=<%= studentClass %>&section=<%= section %>&subject=<%= subject%>&terminal=<%=terminal%>" class="nav-link" data-title="Add Practical">
                <div class="nav-content">
                    <div class="nav-icon"><img src="/practical.png" alt="practical"></div>
                    <span class="nav-text">Add Practical</span>
                </div>
            </a>
        </li>

        <!-- Practical Slip -->
        <li>
            <a href="/practicalslip?studentClass=<%= studentClass %>&section=<%= section %>&subject=<%= subject %>&terminal=<%= terminal %>" class="nav-link" data-title="Practical Slip">
                <div class="nav-content">
                    <div class="nav-icon">üìã</div>
                    <span class="nav-text">Practical Slip</span>
                </div>
            </a>
        </li>

        <!-- Attendance -->
        <li>
            <a href="/attendance?studentClass=<%= studentClass %>&section=<%= section %>&subject=<%= subject %>&terminal=<%= terminal %>" class="nav-link" data-title="Add Attendance">
                <div class="nav-content">
                    <div class="nav-icon"><img src="/attendance.png" alt="attendance"></div>
                    <span class="nav-text">Add Attendance</span>
                </div>
            </a>
        </li>
        <li>
            <button type="button" class="load-button" onclick="themeform()">
        üöÄ Load Form
      </button>
        </li>
    </ul>
</div>

<script>
    function toggleNav() {
        const nav = document.getElementById('side-nav');
        const body = document.body;
        nav.classList.toggle('expanded');
        body.classList.toggle('nav-expanded');
    }
        function themeform() {
     
      


   
      const urlParams = new URLSearchParams(window.location.search);
const subject = urlParams.get('subject')
const studentClass = urlParams.get('studentClass')
const section = urlParams.get('section')
const terminal = urlParams.get('terminal')
      // Validation
      if (!studentClass || !section) {
        showAlert('Please select a class and section');
        
        return;
      }

      if (!subject) {
        showAlert('Please select a subject');
        
        return;
      }

      // Show loading state
      const button = event.target;
      const originalText = button.innerHTML;
      button.innerHTML = 'üîÑ Loading...';
      button.classList.add('loading');
      

      // Navigate to practical detail form
      const url = `/practicaldetailform?subject=${encodeURIComponent(subject)}&studentClass=${encodeURIComponent(studentClass)}&section=${encodeURIComponent(section)}&terminal=${encodeURIComponent(terminal)}`;
      window.location.href = url;
    }
</script>